---
{"dg-publish":true,"dg-path":"51单片机/C51.md","permalink":"/51单片机/C51/","dgPassFrontmatter":true,"noteIcon":"","created":"2024-05-21T15:20:27.729+08:00","updated":"2024-06-11T23:01:54.277+08:00"}
---

#语言

以 [[C语言\|C语言]]为基础，专门为[[51 单片机\|51 单片机]]设计的[[编程语言\|编程语言]]

C51语言是一种基于C语言的编程语言，主要用于8051系列单片机的程序开发。它继承了C语言的结构化编程特点，同时也融入了汇编语言的硬件操作能力，使得程序员能够利用C语言编写出高效且易于理解的程序，在单片机平台上运行
### 死循环
```C
while(1)
{

}
```
存在十分有必要

### REG51. H
头文件定义[[特殊功能寄存器\|特殊功能寄存器]] 
地址的映射
```C
sfr 特殊功能寄存器名 = 特殊寄存器对应的地址
```

自己定义的函数名和变量会临时存到 [[RAM\|RAM]] 的低 128 位中

```c
sbit  //定义某些特殊位
```
### 数据类型
`Unsigned char`   变量长度为1Byte(8位)
`Signed char `     变量长度为1Byte(8位)
`unsigned int `（0-65536）（16 bit）
`signed  int`（-32768--32767） （16 bit）
`unsigned long int`（0-4294967295）（32 bit）
`signed long int`（-21474883648---21474883647）




### 中断服务程序
`函数返回类型 函数名（输入） interrupt n`



### 定时器的应用


```C
#include<reg51.h>
sbit P1_0=P1^0;
void main(void)
{
	TMOD=0x01;
	TH0=0xFC;
	TL0=0x18;
	TR0=1;
	while(1)
	{
	 do{}
	 while(!TF0);
	 P1_0=!P1_0;
	 TH0=0xFC;
	 TL0=0x18;
	 TF=0; 
	}
}
```

### AD 模数转换

```C
#include<instrins.h>
_nop_();  //一个机器周期

//产生一个正脉冲
START = 0; _nop_();  _nop_();  _nop_();
START = 1; _nop_();  _nop_();  _nop_();
START = 0; _nop_();  _nop_();  _nop_();
```

